<div class="settings-modal">
    <div class="chip-container">
        <button
                class="chip"
                [class.active]="selectedChip === 'general'"
                (click)="selectChip('general')"
        >
            –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        </button>
        <button
                class="chip"
                [class.active]="selectedChip === 'editor'"
                (click)="selectChip('editor')"
        >
            –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
        </button>
        <button
                class="chip"
                [class.active]="selectedChip === 'remote_storage'"
                (click)="selectChip('remote_storage')"
        >
            –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
        </button>
        <button
                class="chip"
                [class.active]="selectedChip === 'account'"
                (click)="selectChip('account')"
        >
            –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å
        </button>
    </div>

    <div class="settings-content">
        <!-- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div *ngIf="selectedChip === 'general'">
            <h3>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="general-settings">
<!--                <div id="language" class="setting-item">-->
<!--                    <app-language-selector/>-->
<!--                </div>-->
                <div class="setting-item">
                    <app-theme-toggle/>
                </div>
            </div>
            <div class="setting-help">
                <app-fill-button buttonText="–ü–æ–º–æ—â—å –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ" (click)="openTab(MarkdownFilesType.HELP)" />
                <app-fill-button buttonText="Markdown —Å–∏–Ω—Ç–∞–∫—Å–∏—Å" (click)="openTab(MarkdownFilesType.SYNTAX)" />
            </div>
        </div>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
        <div *ngIf="selectedChip === 'editor'">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞</h3>
            <div class="editor-settings">
                <div class="setting-item">
                    <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
                    <app-input-text-field
                            [value]="SettingsService.getFontSize().toString()"
                            type="number"
                            (valueChange)="onFontChange($event)"
                            minValue="{{8}}}"
                            maxValue="{{24}}}"
                    />
                </div>
<!--                <div class="setting-item">-->
<!--                    <label>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫:</label>-->
<!--                    <app-checkbox-->
<!--                            [checked]="SettingsService.getLineNumbers()"-->
<!--                            (checkedChange)="onLineChange($event)"-->
<!--                    />-->
<!--                </div>-->
            </div>
        </div>

        <div *ngIf="selectedChip === 'remote_storage'">
            <div class="remote-storage-content">
                <h3>–£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</h3>

                <!-- –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ —Å–æ–∑–¥–∞–Ω -->
                <div *ngIf="!projectId" class="no-project-message">
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    <p>–ü—Ä–æ–µ–∫—Ç –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.</p>
                    <p *ngIf="!hasAuth">–í—ã –Ω–µ –≤–æ—à–ª–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç. –í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç.</p>
                    <p *ngIf="hasAuth">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤—Ä—É—á–Ω—É—é.</p>
                    <app-fill-button [colorBtn]="success" buttonText="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ" (click)="syncProject()"/>
                </div>

                <!-- –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω -->
                <div *ngIf="projectId" class="project-card">
                    <div class="project-header">
                        <h4>{{ currentProject?.name }}</h4>
                        <p class="subtitle">–ü—Ä–æ–µ–∫—Ç –≤ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</p>
                    </div>
                    <div class="project-details">
                        <div class="detail-item">
                            <span class="icon">üìù</span>
                            <span><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ currentProject?.description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è' }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="icon">üìÖ</span>
                            <span><strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</strong> {{ formatDate(currentProject?.created_at) }}</span>
                        </div>
                    </div>
                    <div class="project-actions">
                        <app-fill-button
                                buttonText="–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"
                                [colorBtn]="danger"
                                (click)="deleteProject()"
                        />
                    </div>
                </div>

                <!-- –ü–æ—è—Å–Ω—è—é—â–∏–π —Ç–µ–∫—Å—Ç -->
                <div class="remote-storage-info">
                    <p>
                        –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –≤—ã –≤–æ—à–ª–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∏ –µ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.
                        –£–¥–∞–ª—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Ö –≤ –æ–±–ª–∞–∫–µ.
                    </p>
                </div>
            </div>
        </div>

        <!-- –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å -->
        <div *ngIf="selectedChip === 'account'">
            <h3>–£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å</h3>
            <div class="login-section">
                <ng-container *ngIf="!hasAuth">
                    <p>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</p>
                    <app-fill-button buttonText="–í–æ–π—Ç–∏" (click)="login()" />
                </ng-container>
                <ng-container *ngIf="hasAuth && hasAuth.length > 0">
                    <app-avatar [isTextID]="true"/>
                </ng-container>
                <ng-container *ngIf="hasAuth && hasAuth.length > 0">
                    <app-fill-button buttonText="–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞" [colorBtn]="danger" (click)="logout()"/>
                </ng-container>
            </div>
        </div>
    </div>
</div>